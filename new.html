<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Magnifier</title>
    <style>
      #container1,
      #container2 {
        position: relative;
        display: inline-block;
        vertical-align: top;
      }

      .image {
        width: 300px; /* Adjust as per your image size */
        height: 300px; /* Adjust as per your image size */
      }

      .magnifier {
        position: absolute;
        width: 40px; /* Adjust the size of the magnifier */
        height: 40px; /* Adjust the size of the magnifier */
        border: 2px solid #000;
        background-color: rgba(255, 255, 255, 0.5);
        display: none;
      }

      #magnified {
        width: 300px; /* Adjust as per your image size */
        height: 300px; /* Adjust as per your image size */
        border: 2px solid #000;
        display: none;
      }
    </style>
  </head>
  <body>
    <div id="container1">
      <img
        class="image"
        src="https://images.pexels.com/photos/1108099/pexels-photo-1108099.jpeg"
        alt="Image"
      />
      <div class="magnifier"></div>
    </div>

    <div id="container2">
      <div id="magnified"></div>
    </div>

    <script>
      // Get references to elements
      var image = document.querySelector(".image");
      var magnifier = document.querySelector(".magnifier");
      var magnified = document.getElementById("magnified");

      // Add mouseover event listener to the image
      image.addEventListener("mouseover", function (e) {
        magnifier.style.display = "block";
        magnified.style.display = "block";
        magnified.style.backgroundImage = "url(" + this.src + ")";
        magnified.style.backgroundSize =
          this.width * 2 + "px " + this.height * 2 + "px";
      });

      // Add mousemove event listener to the image
      image.addEventListener("mousemove", function (e) {
        // Calculate the position of the magnifier
        var magnifierX = e.offsetX - magnifier.offsetWidth / 2;
        var magnifierY = e.offsetY - magnifier.offsetHeight / 2;

        // Limit the magnifier within the bounds of the image
        magnifierX = Math.min(
          Math.max(magnifierX, 0),
          this.offsetWidth - magnifier.offsetWidth
        );
        magnifierY = Math.min(
          Math.max(magnifierY, 0),
          this.offsetHeight - magnifier.offsetHeight
        );

        // Update the position of the magnifier
        magnifier.style.left = magnifierX + "px";
        magnifier.style.top = magnifierY + "px";

        // Calculate the background position of the magnified image
        var bgPosX = -magnifierX * 2;
        var bgPosY = -magnifierY * 2;

        // Update the background position of the magnified image to show the zoomed-in portion
        magnified.style.backgroundPosition = bgPosX + "px " + bgPosY + "px";
      });

      // Add mouseout event listener to the image
      image.addEventListener("mouseout", function (e) {
        magnifier.style.display = "none";
        magnified.style.display = "none";
      });
    </script>
  </body>
</html>
